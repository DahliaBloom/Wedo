import{s as F,e as v,t as U,c as _,b as w,d as z,f as p,q as m,i as x,h as f,j as q,n as B,k as ge,a as V,g as T,U as Q,u as ne,v as ve,V as _e,o as te,A as ue,W as be,p as $e,w as ce,x as de,X as ke,z as we}from"../chunks/scheduler.DEuJf6Cr.js";import{S as X,i as Z,b as O,d as G,m as j,a as P,g as se,c as le,t as C,e as W}from"../chunks/index.BVCW9bT3.js";import{e as N,f as ee}from"../chunks/stores.D-QSYZUm.js";function ae(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function Ee(a){let e,n,s=a[0].user.name+"",t,o;return{c(){e=v("div"),n=U("Hallo "),t=U(s),o=U(" 🫶"),this.h()},l(r){e=_(r,"DIV",{class:!0});var l=w(e);n=z(l,"Hallo "),t=z(l,s),o=z(l," 🫶"),l.forEach(p),this.h()},h(){m(e,"class","w-full rounded-full align-middle text-center p-1 bg-gradient-to-r from-primary to-[#CBDDD9]")},m(r,l){x(r,e,l),f(e,n),f(e,t),f(e,o)},p(r,[l]){l&1&&s!==(s=r[0].user.name+"")&&q(t,s)},i:B,o:B,d(r){r&&p(e)}}}function De(a,e,n){let s;return ge(a,N,t=>n(0,s=t)),[s]}class Ie extends X{constructor(e){super(),Z(this,e,De,Ee,F,{})}}function Ye(a){let e,n=a[0].title+"",s,t,o,r,l=a[0].author+"",c,i,u,d,h,M,H;return{c(){e=v("div"),s=U(n),t=V(),o=v("div"),r=v("div"),c=U(l),i=V(),u=v("i"),d=V(),h=v("input"),this.h()},l(E){e=_(E,"DIV",{class:!0});var k=w(e);s=z(k,n),t=T(k),o=_(k,"DIV",{class:!0});var I=w(o);r=_(I,"DIV",{class:!0});var Y=w(r);c=z(Y,l),i=T(Y),u=_(Y,"I",{class:!0}),w(u).forEach(p),Y.forEach(p),d=T(I),h=_(I,"INPUT",{type:!0,class:!0}),I.forEach(p),k.forEach(p),this.h()},h(){m(u,"class","fa-solid fa-user"),Q(u,"text-gray-400",a[0].done),m(r,"class","badge badge-primary flex items-center gap-2"),m(h,"type","checkbox"),m(h,"class","checkbox checkbox-xs checkbox-primary"),m(o,"class","flex items-center gap-2"),m(e,"class","flex justify-between items-center"),Q(e,"font-thin",a[0].done)},m(E,k){x(E,e,k),f(e,s),f(e,t),f(e,o),f(o,r),f(r,c),f(r,i),f(r,u),f(o,d),f(o,h),h.checked=a[0].done,M||(H=[ne(h,"change",a[2]),ne(h,"change",a[3])],M=!0)},p(E,[k]){k&1&&n!==(n=E[0].title+"")&&q(s,n),k&1&&l!==(l=E[0].author+"")&&q(c,l),k&1&&Q(u,"text-gray-400",E[0].done),k&1&&(h.checked=E[0].done),k&1&&Q(e,"font-thin",E[0].done)},i:B,o:B,d(E){E&&p(e),M=!1,ve(H)}}}function Ve(a,e,n){let{task:s}=e;const t=_e();function o(){s.done=this.checked,n(0,s)}const r=()=>t("statusChange");return a.$$set=l=>{"task"in l&&n(0,s=l.task)},[s,t,o,r]}class Te extends X{constructor(e){super(),Z(this,e,Ve,Ye,F,{task:0})}}function Se(a){let e,n='<i class="fa-solid fa-plus"></i>',s,t,o,r,l='<button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button>',c,i,u,d=a[0].colored+"",h,M,H,E=a[0].plain+"",k,I,Y,S,b,J,A,y="<button></button>",$,L;return{c(){e=v("button"),e.innerHTML=n,s=V(),t=v("dialog"),o=v("div"),r=v("form"),r.innerHTML=l,c=V(),i=v("div"),u=v("h3"),h=U(d),M=V(),H=v("h3"),k=U(E),I=V(),Y=v("form"),S=v("input"),J=V(),A=v("form"),A.innerHTML=y,this.h()},l(g){e=_(g,"BUTTON",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-10dftlw"&&(e.innerHTML=n),s=T(g),t=_(g,"DIALOG",{class:!0});var D=w(t);o=_(D,"DIV",{class:!0});var K=w(o);r=_(K,"FORM",{method:!0,"data-svelte-h":!0}),te(r)!=="svelte-1w3woed"&&(r.innerHTML=l),c=T(K),i=_(K,"DIV",{class:!0});var R=w(i);u=_(R,"H3",{class:!0});var re=w(u);h=z(re,d),re.forEach(p),M=T(R),H=_(R,"H3",{class:!0});var oe=w(H);k=z(oe,E),oe.forEach(p),R.forEach(p),I=T(K),Y=_(K,"FORM",{});var ie=w(Y);S=_(ie,"INPUT",{class:!0,placeholder:!0,type:!0}),ie.forEach(p),K.forEach(p),J=T(D),A=_(D,"FORM",{class:!0,method:!0,"data-svelte-h":!0}),te(A)!=="svelte-z40nya"&&(A.innerHTML=y),D.forEach(p),this.h()},h(){m(e,"class","btn btn-sm btn-circle btn-primary"),m(r,"method","dialog"),m(u,"class","font-bold text-lg bg-primary rounded-lg px-2"),m(H,"class","font-bold text-lg"),m(i,"class","flex items-center gap-2"),m(S,"class","input w-full py-4 my-3 focus:outline-none"),m(S,"placeholder",b=a[0].placeholder),m(S,"type","text"),m(o,"class","modal-box"),m(A,"class","modal-backdrop"),m(A,"method","dialog"),m(t,"class","modal")},m(g,D){x(g,e,D),x(g,s,D),x(g,t,D),f(t,o),f(o,r),f(o,c),f(o,i),f(i,u),f(u,h),f(i,M),f(i,H),f(H,k),f(o,I),f(o,Y),f(Y,S),a[5](S),f(t,J),f(t,A),a[6](t),$||(L=[ne(e,"click",a[4]),ne(Y,"submit",a[3])],$=!0)},p(g,[D]){D&1&&d!==(d=g[0].colored+"")&&q(h,d),D&1&&E!==(E=g[0].plain+"")&&q(k,E),D&1&&b!==(b=g[0].placeholder)&&m(S,"placeholder",b)},i:B,o:B,d(g){g&&(p(e),p(s),p(t)),a[5](null),a[6](null),$=!1,ve(L)}}}function Me(a,e,n){let{modal_data:s}=e,t,o,r=_e();function l(d){r("submit",t.value),o.close(),n(1,t.value="",t)}const c=()=>{t.focus(),o.showModal()};function i(d){ue[d?"unshift":"push"](()=>{t=d,n(1,t)})}function u(d){ue[d?"unshift":"push"](()=>{o=d,n(2,o)})}return a.$$set=d=>{"modal_data"in d&&n(0,s=d.modal_data)},[s,t,o,l,c,i,u]}class ye extends X{constructor(e){super(),Z(this,e,Me,Se,F,{modal_data:0})}}function fe(a,e,n){const s=a.slice();return s[7]=e[n],s}function he(a,e,n){const s=a.slice();return s[10]=e[n],s}function me(a){let e,n;function s(){return a[4](a[7])}return e=new Te({props:{task:a[10]}}),e.$on("statusChange",s),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,o){j(e,t,o),n=!0},p(t,o){a=t;const r={};o&1&&(r.task=a[10]),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){W(e,t)}}}function pe(a){let e,n,s,t,o=a[7].title+"",r,l,c,i,u,d,h,M,H,E,k,I,Y,S=ae(a[7].tasks),b=[];for(let y=0;y<S.length;y+=1)b[y]=me(he(a,S,y));const J=y=>C(b[y],1,1,()=>{b[y]=null});function A(...y){return a[5](a[7],...y)}return I=new ye({props:{modal_data:{colored:a[7].title,plain:"...",placeholder:"Task ..."}}}),I.$on("submit",A),{c(){e=v("div"),n=v("input"),s=V(),t=v("div"),r=U(o),l=V(),c=v("div"),i=v("progress"),d=V(),h=v("div"),M=v("div"),H=V();for(let y=0;y<b.length;y+=1)b[y].c();E=V(),k=v("div"),O(I.$$.fragment),this.h()},l(y){e=_(y,"DIV",{class:!0});var $=w(e);n=_($,"INPUT",{type:!0,name:!0}),s=T($),t=_($,"DIV",{class:!0});var L=w(t);r=z(L,o),l=T(L),c=_(L,"DIV",{class:!0});var g=w(c);i=_(g,"PROGRESS",{class:!0,max:!0}),w(i).forEach(p),g.forEach(p),L.forEach(p),d=T($),h=_($,"DIV",{class:!0});var D=w(h);M=_(D,"DIV",{class:!0}),w(M).forEach(p),H=T(D);for(let R=0;R<b.length;R+=1)b[R].l(D);E=T(D),k=_(D,"DIV",{class:!0});var K=w(k);G(I.$$.fragment,K),K.forEach(p),D.forEach(p),$.forEach(p),this.h()},h(){m(n,"type","radio"),m(n,"name","taskGroups"),m(i,"class","progress progress-accent"),i.value=u=a[7].donePercentage,m(i,"max","100"),m(c,"class","basis-1/4 flex-shrink-0"),m(t,"class","collapse-title font-light text-lg flex gap-2 justify-between items-center pr-[1rem] truncate"),m(M,"class","divider -mt-0.5"),m(k,"class","grid place-items-center pt-1"),m(h,"class","collapse-content space-y-2"),m(e,"class","collapse bg-base-100 shadow-lg tr")},m(y,$){x(y,e,$),f(e,n),f(e,s),f(e,t),f(t,r),f(t,l),f(t,c),f(c,i),f(e,d),f(e,h),f(h,M),f(h,H);for(let L=0;L<b.length;L+=1)b[L]&&b[L].m(h,null);f(h,E),f(h,k),j(I,k,null),Y=!0},p(y,$){if(a=y,(!Y||$&1)&&o!==(o=a[7].title+"")&&q(r,o),(!Y||$&1&&u!==(u=a[7].donePercentage))&&(i.value=u),$&9){S=ae(a[7].tasks);let g;for(g=0;g<S.length;g+=1){const D=he(a,S,g);b[g]?(b[g].p(D,$),P(b[g],1)):(b[g]=me(D),b[g].c(),P(b[g],1),b[g].m(h,E))}for(se(),g=S.length;g<b.length;g+=1)J(g);le()}const L={};$&1&&(L.modal_data={colored:a[7].title,plain:"...",placeholder:"Task ..."}),I.$set(L)},i(y){if(!Y){for(let $=0;$<S.length;$+=1)P(b[$]);P(I.$$.fragment,y),Y=!0}},o(y){b=b.filter(Boolean);for(let $=0;$<b.length;$+=1)C(b[$]);C(I.$$.fragment,y),Y=!1},d(y){y&&p(e),be(b,y),W(I)}}}function Le(a){let e,n,s,t,o,r=ae(a[0]),l=[];for(let i=0;i<r.length;i+=1)l[i]=pe(fe(a,r,i));const c=i=>C(l[i],1,1,()=>{l[i]=null});return t=new ye({props:{modal_data:{colored:"Add new group",plain:"...",placeholder:"Group name"}}}),t.$on("submit",a[6]),{c(){e=v("div");for(let i=0;i<l.length;i+=1)l[i].c();n=V(),s=v("div"),O(t.$$.fragment),this.h()},l(i){e=_(i,"DIV",{class:!0});var u=w(e);for(let h=0;h<l.length;h+=1)l[h].l(u);n=T(u),s=_(u,"DIV",{class:!0});var d=w(s);G(t.$$.fragment,d),d.forEach(p),u.forEach(p),this.h()},h(){m(s,"class","mt-3 mb-10 grid place-items-center z-50"),m(e,"class","flex flex-col gap-1.5")},m(i,u){x(i,e,u);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(e,null);f(e,n),f(e,s),j(t,s,null),o=!0},p(i,[u]){if(u&11){r=ae(i[0]);let d;for(d=0;d<r.length;d+=1){const h=fe(i,r,d);l[d]?(l[d].p(h,u),P(l[d],1)):(l[d]=pe(h),l[d].c(),P(l[d],1),l[d].m(e,n))}for(se(),d=r.length;d<l.length;d+=1)c(d);le()}},i(i){if(!o){for(let u=0;u<r.length;u+=1)P(l[u]);P(t.$$.fragment,i),o=!0}},o(i){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)C(l[u]);C(t.$$.fragment,i),o=!1},d(i){i&&p(e),be(l,i),W(t)}}}function Pe(a,e,n){let s=[];N.subscribe(u=>{n(0,s=u.data.taskGroups)});async function t(u,d){await N.update(h=>(u.tasks.unshift({title:d,author:h.user.name,done:!1}),u.taskHasBeenAdded=!0,h))}async function o(u){await N.update(d=>(d.data.taskGroups.push({title:u,donePercentage:0,tasks:[]}),d))}async function r(u){u.donePercentage=Math.round(u.tasks.filter(h=>h.done).length/u.tasks.length*100);const[d]=u.tasks.splice(u.tasks.findIndex(h=>h.done),1);u.tasks.push(d),await N.update(h=>(u.donePercentage===100&&h.data.taskGroups.splice(h.data.taskGroups.findIndex(M=>M===u),1),n(0,s=h.data.taskGroups),h))}return[s,t,o,r,u=>r(u),(u,d)=>t(u,d.detail),u=>o(u.detail)]}class He extends X{constructor(e){super(),Z(this,e,Pe,Le,F,{})}}const xe=""+new URL("../assets/penguins.Dc0iZ6Tb.png",import.meta.url).href;function Ce(a){let e,n,s,t,o,r;return{c(){e=v("div"),n=v("img"),t=V(),o=v("div"),r=U(a[0]),this.h()},l(l){e=_(l,"DIV",{class:!0,style:!0});var c=w(e);n=_(c,"IMG",{src:!0,alt:!0}),t=T(c),o=_(c,"DIV",{class:!0,style:!0});var i=w(o);r=z(i,a[0]),i.forEach(p),c.forEach(p),this.h()},h(){$e(n.src,s=xe)||m(n,"src",s),m(n,"alt",""),m(o,"class","absolute top-[5%] left-[5%] w-[58%] h-[21%] grid place-items-center text-center"),ce(o,"font-size","2vmin"),m(e,"class","fixed bottom-2 right-2"),ce(e,"width","50vmin")},m(l,c){x(l,e,c),f(e,n),f(e,t),f(e,o),f(o,r)},p:B,i:B,o:B,d(l){l&&p(e)}}}function Be(a){const e=["You are stronger than you think 💪","Believe in yourself, always 🌟","Your smile lights up my world 😊","Keep pushing, you got this 🚀","Dream big and never give up 🌈","You are capable of amazing things ✨","Stay positive, work hard, make it happen 💼","Your determination inspires me 🔥","You are beautiful inside and out 🌸","Keep shining bright, my love 🌞","You are a warrior, never forget that 🛡️","Stay focused and never lose sight 🎯","You make the impossible, possible 🌠","I believe in you more than anything 🥇","Keep going, even when it gets tough 🌄","You are my sunshine on a cloudy day ☀️","Every challenge you face makes you stronger 🏋️","You are a true inspiration 💖","Stay brave and take that leap 🌌","You are the author of your own story 📖","Never stop chasing your dreams 🏃‍♀️","You have the power to create change ⚡","You are unstoppable, my love 🚀","Keep your head up, gorgeous 🌹","You make a difference every day 🌏","Your courage is admirable 🦁","Stay true to yourself, always 🌷","You are loved beyond measure ❤️","Believe in your journey 🌍","You are destined for greatness 🌟","Keep your spirit high and your heart strong 💪","You light up every room you enter 💡","Stay motivated and keep moving forward ⏩","You have a heart of gold 💛","Keep striving for excellence 🏆","You are my everything 🌎","Your hard work pays off 🏅","You are a gem, never forget that 💎","Stay fearless and follow your dreams 🦅","You are more powerful than you realize 🌋","Keep believing in yourself, beautiful 🌸","You make the world a better place 🌟","Stay strong and stay true 💪","You are my inspiration every day 🌞","Keep your dreams alive 💤","You are a miracle in my life 🌈","Stay focused and achieve greatness 🏆","You are my guiding star 🌟","Keep pushing forward, no matter what 🚀","You are the best thing that happened to me 💖"];let n=s();function s(){const t=Math.floor(Math.random()*e.length);return e[t]}return[n]}class Ae extends X{constructor(e){super(),Z(this,e,Be,Ce,F,{})}}function Ke(a){let e,n,s,t,o,r,l;return n=new Ie({}),t=new He({}),r=new Ae({}),{c(){e=v("div"),O(n.$$.fragment),s=V(),O(t.$$.fragment),o=V(),O(r.$$.fragment),this.h()},l(c){e=_(c,"DIV",{class:!0});var i=w(e);G(n.$$.fragment,i),s=T(i),G(t.$$.fragment,i),i.forEach(p),o=T(c),G(r.$$.fragment,c),this.h()},h(){m(e,"class","space-y-6")},m(c,i){x(c,e,i),j(n,e,null),f(e,s),j(t,e,null),x(c,o,i),j(r,c,i),l=!0},i(c){l||(P(n.$$.fragment,c),P(t.$$.fragment,c),P(r.$$.fragment,c),l=!0)},o(c){C(n.$$.fragment,c),C(t.$$.fragment,c),C(r.$$.fragment,c),l=!1},d(c){c&&(p(e),p(o)),W(n),W(t),W(r,c)}}}function Ue(a){let e,n='<span class="loading loading-spinner loading-sm ease-linear"></span>';return{c(){e=v("div"),e.innerHTML=n,this.h()},l(s){e=_(s,"DIV",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-13rxzoy"&&(e.innerHTML=n),this.h()},h(){m(e,"class","grid place-items-center h-full")},m(s,t){x(s,e,t)},i:B,o:B,d(s){s&&p(e)}}}function ze(a){let e,n,s,t;const o=[Ue,Ke],r=[];function l(c,i){return c[0].loading?0:1}return e=l(a),n=r[e]=o[e](a),{c(){n.c(),s=de()},l(c){n.l(c),s=de()},m(c,i){r[e].m(c,i),x(c,s,i),t=!0},p(c,[i]){let u=e;e=l(c),e!==u&&(se(),C(r[u],1,1,()=>{r[u]=null}),le(),n=r[e],n||(n=r[e]=o[e](c),n.c()),P(n,1),n.m(s.parentNode,s))},i(c){t||(P(n),t=!0)},o(c){C(n),t=!1},d(c){c&&p(s),r[e].d(c)}}}function Re(a,e,n){let s;ge(a,N,l=>n(0,s=l)),ke(ee);function t(){document.hidden?(console.log("PWA is not visible"),ee()):console.log("PWA is visible")}function o(l){l.preventDefault(),l.returnValue="",console.log("User is about to leave the PWA"),ee()}function r(l){console.log("Page is being hidden"),ee()}return we(()=>(document.addEventListener("visibilitychange",t),window.addEventListener("beforeunload",o),window.addEventListener("pagehide",r),()=>{document.removeEventListener("visibilitychange",t),window.removeEventListener("beforeunload",o),window.removeEventListener("pagehide",r)})),[s]}class je extends X{constructor(e){super(),Z(this,e,Re,ze,F,{})}}export{je as component};
