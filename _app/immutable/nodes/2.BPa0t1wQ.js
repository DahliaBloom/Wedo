import{s as te,e as b,t as z,c as y,b as Y,d as N,f as v,q as m,i as O,h as d,j as G,n as K,k as ye,a as S,g as C,U as se,u as X,v as ke,V as $e,o as F,A as re,W as ie,r as de,p as Ee,w as fe,x as he,X as Te,z as Ie}from"../chunks/scheduler.DEuJf6Cr.js";import{S as ne,i as ae,b as Z,d as J,m as Q,a as B,g as ue,c as ce,t as U,e as ee}from"../chunks/index.BVCW9bT3.js";import{e as W,f as oe}from"../chunks/stores.D-QSYZUm.js";function q(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function De(t){let e,n,l=t[0].user.name+"",a,o;return{c(){e=b("div"),n=z("Hallo "),a=z(l),o=z(" 🫶"),this.h()},l(s){e=y(s,"DIV",{class:!0});var u=Y(e);n=N(u,"Hallo "),a=N(u,l),o=N(u," 🫶"),u.forEach(v),this.h()},h(){m(e,"class","w-full rounded-full align-middle text-center p-1 bg-gradient-to-r from-primary to-[#CBDDD9]")},m(s,u){O(s,e,u),d(e,n),d(e,a),d(e,o)},p(s,[u]){u&1&&l!==(l=s[0].user.name+"")&&G(a,l)},i:K,o:K,d(s){s&&v(e)}}}function Me(t,e,n){let l;return ye(t,W,a=>n(0,l=a)),[l]}class Ye extends ne{constructor(e){super(),ae(this,e,Me,De,te,{})}}function Le(t){let e,n,l=t[0].title+"",a,o,s,u,i=t[0].author+"",h,M,k,L,V,H,P;return{c(){e=b("div"),n=b("button"),a=z(l),o=S(),s=b("div"),u=b("div"),h=z(i),M=S(),k=b("i"),L=S(),V=b("input"),this.h()},l(w){e=y(w,"DIV",{class:!0});var c=Y(e);n=y(c,"BUTTON",{});var E=Y(n);a=N(E,l),E.forEach(v),o=C(c),s=y(c,"DIV",{class:!0});var p=Y(s);u=y(p,"DIV",{class:!0});var _=Y(u);h=N(_,i),M=C(_),k=y(_,"I",{class:!0}),Y(k).forEach(v),_.forEach(v),L=C(p),V=y(p,"INPUT",{class:!0,type:!0}),p.forEach(v),c.forEach(v),this.h()},h(){m(k,"class","fa-solid fa-user"),se(k,"text-gray-400",t[0].done),m(u,"class","badge badge-primary flex items-center gap-2"),m(V,"class","checkbox checkbox-xs checkbox-primary"),m(V,"type","checkbox"),m(s,"class","flex items-center gap-2"),m(e,"class","flex justify-between items-center"),se(e,"font-thin",t[0].done)},m(w,c){O(w,e,c),d(e,n),d(n,a),d(e,o),d(e,s),d(s,u),d(u,h),d(u,M),d(u,k),d(s,L),d(s,V),V.checked=t[0].done,H||(P=[X(n,"click",t[2]),X(V,"change",t[3]),X(V,"change",t[4])],H=!0)},p(w,[c]){c&1&&l!==(l=w[0].title+"")&&G(a,l),c&1&&i!==(i=w[0].author+"")&&G(h,i),c&1&&se(k,"text-gray-400",w[0].done),c&1&&(V.checked=w[0].done),c&1&&se(e,"font-thin",w[0].done)},i:K,o:K,d(w){w&&v(e),H=!1,ke(P)}}}function Ve(t,e,n){let{task:l}=e;const a=$e(),o=()=>a("moveTask");function s(){l.done=this.checked,n(0,l)}const u=()=>a("statusChange");return t.$$set=i=>{"task"in i&&n(0,l=i.task)},[l,a,o,s,u]}class He extends ne{constructor(e){super(),ae(this,e,Ve,Le,te,{task:0})}}function Se(t){let e,n='<i class="fa-solid fa-plus"></i>',l,a,o,s,u='<button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button>',i,h,M,k=t[0].colored+"",L,V,H,P=t[0].plain+"",w,c,E,p,_,A,$,D="<button></button>",T,I;return{c(){e=b("button"),e.innerHTML=n,l=S(),a=b("dialog"),o=b("div"),s=b("form"),s.innerHTML=u,i=S(),h=b("div"),M=b("h3"),L=z(k),V=S(),H=b("h3"),w=z(P),c=S(),E=b("form"),p=b("input"),A=S(),$=b("form"),$.innerHTML=D,this.h()},l(r){e=y(r,"BUTTON",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-10dftlw"&&(e.innerHTML=n),l=C(r),a=y(r,"DIALOG",{class:!0});var g=Y(a);o=y(g,"DIV",{class:!0});var f=Y(o);s=y(f,"FORM",{method:!0,"data-svelte-h":!0}),F(s)!=="svelte-1w3woed"&&(s.innerHTML=u),i=C(f),h=y(f,"DIV",{class:!0});var x=Y(h);M=y(x,"H3",{class:!0});var j=Y(M);L=N(j,k),j.forEach(v),V=C(x),H=y(x,"H3",{class:!0});var le=Y(H);w=N(le,P),le.forEach(v),x.forEach(v),c=C(f),E=y(f,"FORM",{});var R=Y(E);p=y(R,"INPUT",{class:!0,placeholder:!0,type:!0}),R.forEach(v),f.forEach(v),A=C(g),$=y(g,"FORM",{class:!0,method:!0,"data-svelte-h":!0}),F($)!=="svelte-z40nya"&&($.innerHTML=D),g.forEach(v),this.h()},h(){m(e,"class","btn btn-sm btn-circle btn-primary"),m(s,"method","dialog"),m(M,"class","font-bold text-lg bg-primary rounded-lg px-2"),m(H,"class","font-bold text-lg"),m(h,"class","flex items-center gap-2"),m(p,"class","input w-full py-4 my-3 focus:outline-none"),m(p,"placeholder",_=t[0].placeholder),m(p,"type","text"),m(o,"class","modal-box"),m($,"class","modal-backdrop"),m($,"method","dialog"),m(a,"class","modal")},m(r,g){O(r,e,g),O(r,l,g),O(r,a,g),d(a,o),d(o,s),d(o,i),d(o,h),d(h,M),d(M,L),d(h,V),d(h,H),d(H,w),d(o,c),d(o,E),d(E,p),t[5](p),d(a,A),d(a,$),t[6](a),T||(I=[X(e,"click",t[4]),X(E,"submit",t[3])],T=!0)},p(r,[g]){g&1&&k!==(k=r[0].colored+"")&&G(L,k),g&1&&P!==(P=r[0].plain+"")&&G(w,P),g&1&&_!==(_=r[0].placeholder)&&m(p,"placeholder",_)},i:K,o:K,d(r){r&&(v(e),v(l),v(a)),t[5](null),t[6](null),T=!1,ke(I)}}}function Ce(t,e,n){let{modal_data:l}=e,a,o,s=$e();function u(k){s("submit",a.value),o.close(),n(1,a.value="",a)}const i=()=>{a.focus(),o.showModal()};function h(k){re[k?"unshift":"push"](()=>{a=k,n(1,a)})}function M(k){re[k?"unshift":"push"](()=>{o=k,n(2,o)})}return t.$$set=k=>{"modal_data"in k&&n(0,l=k.modal_data)},[l,a,o,u,i,h,M]}class we extends ne{constructor(e){super(),ae(this,e,Ce,Se,te,{modal_data:0})}}function me(t,e,n){const l=t.slice();return l[14]=e[n],l}function ge(t,e,n){const l=t.slice();return l[14]=e[n],l}function pe(t,e,n){const l=t.slice();return l[19]=e[n],l}function ve(t){let e,n;function l(){return t[7](t[14])}function a(){return t[8](t[19])}return e=new He({props:{task:t[19]}}),e.$on("statusChange",l),e.$on("moveTask",a),{c(){Z(e.$$.fragment)},l(o){J(e.$$.fragment,o)},m(o,s){Q(e,o,s),n=!0},p(o,s){t=o;const u={};s&1&&(u.task=t[19]),e.$set(u)},i(o){n||(B(e.$$.fragment,o),n=!0)},o(o){U(e.$$.fragment,o),n=!1},d(o){ee(e,o)}}}function _e(t){let e,n,l,a,o=t[14].title+"",s,u,i,h,M,k,L,V,H,P,w,c,E,p=q(t[14].tasks),_=[];for(let D=0;D<p.length;D+=1)_[D]=ve(pe(t,p,D));const A=D=>U(_[D],1,1,()=>{_[D]=null});function $(...D){return t[9](t[14],...D)}return c=new we({props:{modal_data:{colored:t[14].title,plain:"...",placeholder:"Task ..."}}}),c.$on("submit",$),{c(){e=b("div"),n=b("input"),l=S(),a=b("div"),s=z(o),u=S(),i=b("div"),h=b("progress"),k=S(),L=b("div"),V=b("div"),H=S();for(let D=0;D<_.length;D+=1)_[D].c();P=S(),w=b("div"),Z(c.$$.fragment),this.h()},l(D){e=y(D,"DIV",{class:!0});var T=Y(e);n=y(T,"INPUT",{type:!0,name:!0}),l=C(T),a=y(T,"DIV",{class:!0});var I=Y(a);s=N(I,o),u=C(I),i=y(I,"DIV",{class:!0});var r=Y(i);h=y(r,"PROGRESS",{class:!0,max:!0}),Y(h).forEach(v),r.forEach(v),I.forEach(v),k=C(T),L=y(T,"DIV",{class:!0});var g=Y(L);V=y(g,"DIV",{class:!0}),Y(V).forEach(v),H=C(g);for(let x=0;x<_.length;x+=1)_[x].l(g);P=C(g),w=y(g,"DIV",{class:!0});var f=Y(w);J(c.$$.fragment,f),f.forEach(v),g.forEach(v),T.forEach(v),this.h()},h(){m(n,"type","radio"),m(n,"name","taskGroups"),m(h,"class","progress progress-accent"),h.value=M=t[14].donePercentage,m(h,"max","100"),m(i,"class","basis-1/4 flex-shrink-0"),m(a,"class","collapse-title font-light text-lg flex gap-2 justify-between items-center pr-[1rem] truncate"),m(V,"class","divider -mt-0.5"),m(w,"class","grid place-items-center pt-1"),m(L,"class","collapse-content space-y-2"),m(e,"class","collapse bg-base-100 shadow-lg tr")},m(D,T){O(D,e,T),d(e,n),d(e,l),d(e,a),d(a,s),d(a,u),d(a,i),d(i,h),d(e,k),d(e,L),d(L,V),d(L,H);for(let I=0;I<_.length;I+=1)_[I]&&_[I].m(L,null);d(L,P),d(L,w),Q(c,w,null),E=!0},p(D,T){if(t=D,(!E||T&1)&&o!==(o=t[14].title+"")&&G(s,o),(!E||T&1&&M!==(M=t[14].donePercentage))&&(h.value=M),T&39){p=q(t[14].tasks);let r;for(r=0;r<p.length;r+=1){const g=pe(t,p,r);_[r]?(_[r].p(g,T),B(_[r],1)):(_[r]=ve(g),_[r].c(),B(_[r],1),_[r].m(L,P))}for(ue(),r=p.length;r<_.length;r+=1)A(r);ce()}const I={};T&1&&(I.modal_data={colored:t[14].title,plain:"...",placeholder:"Task ..."}),c.$set(I)},i(D){if(!E){for(let T=0;T<p.length;T+=1)B(_[T]);B(c.$$.fragment,D),E=!0}},o(D){_=_.filter(Boolean);for(let T=0;T<_.length;T+=1)U(_[T]);U(c.$$.fragment,D),E=!1},d(D){D&&v(e),ie(_,D),ee(c)}}}function be(t){let e,n=t[14].title+"",l,a;return{c(){e=b("option"),l=z(n),this.h()},l(o){e=y(o,"OPTION",{});var s=Y(e);l=N(s,n),s.forEach(v),this.h()},h(){e.__value=a=t[14].title,de(e,e.__value)},m(o,s){O(o,e,s),d(e,l)},p(o,s){s&1&&n!==(n=o[14].title+"")&&G(l,n),s&1&&a!==(a=o[14].title)&&(e.__value=a,de(e,e.__value))},d(o){o&&v(e)}}}function Pe(t){let e,n,l,a,o,s,u,i,h='<button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button>',M,k,L="Move task to",V,H,P,w,c="<button></button>",E,p,_,A=q(t[0]),$=[];for(let r=0;r<A.length;r+=1)$[r]=_e(ge(t,A,r));const D=r=>U($[r],1,1,()=>{$[r]=null});a=new we({props:{modal_data:{colored:"Add new group",plain:"...",placeholder:"Group name"}}}),a.$on("submit",t[10]);let T=q(t[0]),I=[];for(let r=0;r<T.length;r+=1)I[r]=be(me(t,T,r));return{c(){e=b("div");for(let r=0;r<$.length;r+=1)$[r].c();n=S(),l=b("div"),Z(a.$$.fragment),o=S(),s=b("dialog"),u=b("div"),i=b("form"),i.innerHTML=h,M=S(),k=b("h3"),k.textContent=L,V=S(),H=b("select");for(let r=0;r<I.length;r+=1)I[r].c();P=S(),w=b("form"),w.innerHTML=c,this.h()},l(r){e=y(r,"DIV",{class:!0});var g=Y(e);for(let R=0;R<$.length;R+=1)$[R].l(g);n=C(g),l=y(g,"DIV",{class:!0});var f=Y(l);J(a.$$.fragment,f),f.forEach(v),g.forEach(v),o=C(r),s=y(r,"DIALOG",{class:!0});var x=Y(s);u=y(x,"DIV",{class:!0});var j=Y(u);i=y(j,"FORM",{method:!0,"data-svelte-h":!0}),F(i)!=="svelte-1w3woed"&&(i.innerHTML=h),M=C(j),k=y(j,"H3",{class:!0,"data-svelte-h":!0}),F(k)!=="svelte-tg3j9t"&&(k.textContent=L),V=C(j),H=y(j,"SELECT",{class:!0});var le=Y(H);for(let R=0;R<I.length;R+=1)I[R].l(le);le.forEach(v),j.forEach(v),P=C(x),w=y(x,"FORM",{class:!0,method:!0,"data-svelte-h":!0}),F(w)!=="svelte-z40nya"&&(w.innerHTML=c),x.forEach(v),this.h()},h(){m(l,"class","mt-3 mb-10 grid place-items-center z-50"),m(e,"class","flex flex-col gap-1.5"),m(i,"method","dialog"),m(k,"class","font-bold text-lg bg-primary rounded-lg px-2 w-fit"),m(H,"class","select w-full my-3 focus:outline-none"),m(u,"class","modal-box"),m(w,"class","modal-backdrop"),m(w,"method","dialog"),m(s,"class","modal")},m(r,g){O(r,e,g);for(let f=0;f<$.length;f+=1)$[f]&&$[f].m(e,null);d(e,n),d(e,l),Q(a,l,null),O(r,o,g),O(r,s,g),d(s,u),d(u,i),d(u,M),d(u,k),d(u,V),d(u,H);for(let f=0;f<I.length;f+=1)I[f]&&I[f].m(H,null);d(s,P),d(s,w),t[12](s),E=!0,p||(_=X(H,"click",t[11]),p=!0)},p(r,[g]){if(g&47){A=q(r[0]);let f;for(f=0;f<A.length;f+=1){const x=ge(r,A,f);$[f]?($[f].p(x,g),B($[f],1)):($[f]=_e(x),$[f].c(),B($[f],1),$[f].m(e,n))}for(ue(),f=A.length;f<$.length;f+=1)D(f);ce()}if(g&1){T=q(r[0]);let f;for(f=0;f<T.length;f+=1){const x=me(r,T,f);I[f]?I[f].p(x,g):(I[f]=be(x),I[f].c(),I[f].m(H,null))}for(;f<I.length;f+=1)I[f].d(1);I.length=T.length}},i(r){if(!E){for(let g=0;g<A.length;g+=1)B($[g]);B(a.$$.fragment,r),E=!0}},o(r){$=$.filter(Boolean);for(let g=0;g<$.length;g+=1)U($[g]);U(a.$$.fragment,r),E=!1},d(r){r&&(v(e),v(o),v(s)),ie($,r),ee(a),ie(I,r),t[12](null),p=!1,_()}}}function xe(t,e,n){let l=[],a;W.subscribe(c=>{n(0,l=c.data.taskGroups)});async function o(c,E){await W.update(p=>(c.tasks.unshift({title:E,author:p.user.name,done:!1}),c.taskHasBeenAdded=!0,p))}async function s(c){await W.update(E=>(E.data.taskGroups.push({title:c,donePercentage:0,tasks:[]}),E))}async function u(c,E=!1){if(c.donePercentage=c.tasks.length===0?100:Math.round(c.tasks.filter(p=>p.done).length/c.tasks.length*100),!E){const[p]=c.tasks.splice(c.tasks.findIndex(_=>_.done),1);c.tasks.push(p)}await W.update(p=>(c.donePercentage===100&&p.data.taskGroups.splice(p.data.taskGroups.findIndex(_=>_===c),1),n(0,l=p.data.taskGroups),p))}async function i(c,E){c.tasks.splice(c.tasks.findIndex(p=>p===E),1),await u(c,!0)}let h;async function M(c){const E=l.find(p=>p.title===c);await o(E,h.title),await i(l.find(p=>p.tasks.includes(h)),h),a.close()}const k=c=>u(c),L=c=>{n(2,h=c),a.showModal()},V=(c,E)=>o(c,E.detail),H=c=>s(c.detail),P=c=>M(c.target.value);function w(c){re[c?"unshift":"push"](()=>{a=c,n(1,a)})}return[l,a,h,o,s,u,M,k,L,V,H,P,w]}class Oe extends ne{constructor(e){super(),ae(this,e,xe,Pe,te,{})}}const Be=""+new URL("../assets/penguins.Dc0iZ6Tb.png",import.meta.url).href;function Ae(t){let e,n,l,a,o,s;return{c(){e=b("div"),n=b("img"),a=S(),o=b("div"),s=z(t[0]),this.h()},l(u){e=y(u,"DIV",{class:!0,style:!0});var i=Y(e);n=y(i,"IMG",{src:!0,alt:!0}),a=C(i),o=y(i,"DIV",{class:!0,style:!0});var h=Y(o);s=N(h,t[0]),h.forEach(v),i.forEach(v),this.h()},h(){Ee(n.src,l=Be)||m(n,"src",l),m(n,"alt",""),m(o,"class","absolute top-[5%] left-[5%] w-[58%] h-[21%] grid place-items-center text-center"),fe(o,"font-size","2vmin"),m(e,"class","fixed bottom-2 right-2"),fe(e,"width","50vmin")},m(u,i){O(u,e,i),d(e,n),d(e,a),d(e,o),d(o,s)},p:K,i:K,o:K,d(u){u&&v(e)}}}function Ue(t){const e=["You are stronger than you think 💪","Believe in yourself, always 🌟","Your smile lights up my world 😊","Keep pushing, you got this 🚀","Dream big and never give up 🌈","You are capable of amazing things ✨","Stay positive, work hard, make it happen 💼","Your determination inspires me 🔥","You are beautiful inside and out 🌸","Keep shining bright, my love 🌞","You are a warrior, never forget that 🛡️","Stay focused and never lose sight 🎯","You make the impossible, possible 🌠","I believe in you more than anything 🥇","Keep going, even when it gets tough 🌄","You are my sunshine on a cloudy day ☀️","Every challenge you face makes you stronger 🏋️","You are a true inspiration 💖","Stay brave and take that leap 🌌","You are the author of your own story 📖","Never stop chasing your dreams 🏃‍♀️","You have the power to create change ⚡","You are unstoppable, my love 🚀","Keep your head up, gorgeous 🌹","You make a difference every day 🌏","Your courage is admirable 🦁","Stay true to yourself, always 🌷","You are loved beyond measure ❤️","Believe in your journey 🌍","You are destined for greatness 🌟","Keep your spirit high and your heart strong 💪","You light up every room you enter 💡","Stay motivated and keep moving forward ⏩","You have a heart of gold 💛","Keep striving for excellence 🏆","You are my everything 🌎","Your hard work pays off 🏅","You are a gem, never forget that 💎","Stay fearless and follow your dreams 🦅","You are more powerful than you realize 🌋","Keep believing in yourself, beautiful 🌸","You make the world a better place 🌟","Stay strong and stay true 💪","You are my inspiration every day 🌞","Keep your dreams alive 💤","You are a miracle in my life 🌈","Stay focused and achieve greatness 🏆","You are my guiding star 🌟","Keep pushing forward, no matter what 🚀","You are the best thing that happened to me 💖"];let n=l();function l(){const a=Math.floor(Math.random()*e.length);return e[a]}return[n]}class Ke extends ne{constructor(e){super(),ae(this,e,Ue,Ae,te,{})}}function Re(t){let e,n,l,a,o,s,u;return n=new Ye({}),a=new Oe({}),s=new Ke({}),{c(){e=b("div"),Z(n.$$.fragment),l=S(),Z(a.$$.fragment),o=S(),Z(s.$$.fragment),this.h()},l(i){e=y(i,"DIV",{class:!0});var h=Y(e);J(n.$$.fragment,h),l=C(h),J(a.$$.fragment,h),h.forEach(v),o=C(i),J(s.$$.fragment,i),this.h()},h(){m(e,"class","space-y-6")},m(i,h){O(i,e,h),Q(n,e,null),d(e,l),Q(a,e,null),O(i,o,h),Q(s,i,h),u=!0},i(i){u||(B(n.$$.fragment,i),B(a.$$.fragment,i),B(s.$$.fragment,i),u=!0)},o(i){U(n.$$.fragment,i),U(a.$$.fragment,i),U(s.$$.fragment,i),u=!1},d(i){i&&(v(e),v(o)),ee(n),ee(a),ee(s,i)}}}function ze(t){let e,n='<span class="loading loading-spinner loading-sm ease-linear"></span>';return{c(){e=b("div"),e.innerHTML=n,this.h()},l(l){e=y(l,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-13rxzoy"&&(e.innerHTML=n),this.h()},h(){m(e,"class","grid place-items-center h-full")},m(l,a){O(l,e,a)},i:K,o:K,d(l){l&&v(e)}}}function Ne(t){let e,n,l,a;const o=[ze,Re],s=[];function u(i,h){return i[0].loading?0:1}return e=u(t),n=s[e]=o[e](t),{c(){n.c(),l=he()},l(i){n.l(i),l=he()},m(i,h){s[e].m(i,h),O(i,l,h),a=!0},p(i,[h]){let M=e;e=u(i),e!==M&&(ue(),U(s[M],1,1,()=>{s[M]=null}),ce(),n=s[e],n||(n=s[e]=o[e](i),n.c()),B(n,1),n.m(l.parentNode,l))},i(i){a||(B(n),a=!0)},o(i){U(n),a=!1},d(i){i&&v(l),s[e].d(i)}}}function je(t,e,n){let l;ye(t,W,u=>n(0,l=u)),Te(oe);function a(){document.hidden?(console.log("PWA is not visible"),oe()):console.log("PWA is visible")}function o(u){u.preventDefault(),u.returnValue="",console.log("User is about to leave the PWA"),oe()}function s(u){console.log("Page is being hidden"),oe()}return Ie(()=>(document.addEventListener("visibilitychange",a),window.addEventListener("beforeunload",o),window.addEventListener("pagehide",s),()=>{document.removeEventListener("visibilitychange",a),window.removeEventListener("beforeunload",o),window.removeEventListener("pagehide",s)})),[l]}class qe extends ne{constructor(e){super(),ae(this,e,je,Ne,te,{})}}export{qe as component};
